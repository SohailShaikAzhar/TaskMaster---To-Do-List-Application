{% extends 'base.html' %}
{% block title %}Register{% endblock %}
{% block content %}
    <main>
        <h1>Create Your Account</h1>
        <div class="form-block">
            <div class="form-card">
                <form action="" method="POST">
                    <div class="form-data-ele">
                        <label for="name">Full Name</label>
                        <input type="text" 
                               name="username" 
                               id="name" 
                               placeholder="Enter your full name"
                               required>
                    </div>                    
                    
                    <div class="form-data-ele">
                        <label for="email">Email Address</label>
                        <input type="email" 
                               name="useremail" 
                               id="email" 
                               placeholder="Enter your email"
                               required>
                    </div>
                    
                    <div class="form-data-ele">
                        <label for="password">Password</label>
                        <input type="password" 
                               name="userpassword" 
                               id="password" 
                               placeholder="Create a strong password"
                               required>
                        <div class="password-strength">
                            <div class="password-strength-bar"></div>
                        </div>
                    </div>
                    
                    <div class="form-data-ele">
                        <input type="submit" value="Create Account">
                    </div>
                    
                    <div class="form-data-ele">
                        <a href="{{ url_for('login') }}">
                            Already have an account? Sign in
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <script>
        // Password strength indicator
        const passwordInput = document.getElementById('password');
        const strengthBar = document.querySelector('.password-strength-bar');
        
        if (passwordInput && strengthBar) {
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                let strength = 0;
                
                if (password.length >= 8) strength++;
                if (/[A-Z]/.test(password)) strength++;
                if (/[0-9]/.test(password)) strength++;
                if (/[^A-Za-z0-9]/.test(password)) strength++;
                
                let width = 0;
                let className = '';
                
                switch(strength) {
                    case 0:
                        width = 0;
                        className = '';
                        break;
                    case 1:
                        width = 25;
                        className = '';
                        break;
                    case 2:
                        width = 50;
                        className = 'medium';
                        break;
                    case 3:
                        width = 75;
                        className = 'strong';
                        break;
                    case 4:
                        width = 100;
                        className = 'strong';
                        break;
                }
                
                strengthBar.style.width = width + '%';
                strengthBar.className = 'password-strength-bar ' + className;
            });
        }
        
        // Form submission feedback
        const form = document.querySelector('form');
        if (form) {
            form.addEventListener('submit', function(e) {
                const submitBtn = this.querySelector('input[type="submit"]');
                if (submitBtn) {
                    submitBtn.value = 'Creating Account...';
                    submitBtn.disabled = true;
                }
            });
        }
    </script>
{% endblock %}